/* ═══════════════════════════════════════════════════════════════
   ALLANRAY TEKNOLOGI SEMESTA — Cinema Command Center
   theme.css v4  |  Presentation Edition — Readable Dark Slate
═══════════════════════════════════════════════════════════════ */

@import url('https://fonts.googleapis.com/css2?family=Rajdhani:wght@500;600;700&family=DM+Sans:wght@400;500;600&family=JetBrains+Mono:wght@400;600&display=swap');

/* ── Variables ──────────────────────────────────────────────── */
:root {
  /* Lighter dark-slate background — comfortable on projectors */
  --bg0: #0e1828;
  --bg1: #111f34;
  --bg2: #152338;

  /* Panels — noticeably lighter so text pops */
  --panel:    rgba(18, 30, 54, 0.96);
  --panel2:   rgba(22, 36, 62, 0.92);

  /* Strokes — cleaner, higher contrast */
  --stroke:   rgba(255,255,255,0.10);
  --stroke2:  rgba(255,255,255,0.16);
  --stroke3:  rgba(255,255,255,0.24);

  /* Text — bright & clear */
  --text:     #eef3ff;
  --text2:    rgba(210, 225, 255, 0.82);
  --muted:    rgba(170, 195, 240, 0.55);

  /* Brand accents */
  --red:        #ff4444;
  --red-d:      #d42020;
  --red-glow:   rgba(255, 68, 68, 0.40);

  --amber:      #ffc107;
  --amber-glow: rgba(255, 193, 7, 0.38);

  --cyan:       #18e8ff;
  --cyan-glow:  rgba(24, 232, 255, 0.32);

  --violet:     #bb6fff;
  --violet-glow:rgba(187, 111, 255, 0.32);

  --green:      #2deca0;
  --green-glow: rgba(45, 236, 160, 0.32);

  --blue:       #5599ff;
  --blue-glow:  rgba(85, 153, 255, 0.32);

  --teal:       #00d4c8;
  --teal-glow:  rgba(0, 212, 200, 0.30);

  /* Layout */
  --r-sm:  10px;
  --r:     15px;
  --r-lg:  20px;

  --shadow:    0 20px 60px rgba(0,0,0,0.55);
  --shadow-md: 0 12px 32px rgba(0,0,0,0.40);
  --shadow-sm: 0 6px 18px rgba(0,0,0,0.30);
}

/* ── Global ─────────────────────────────────────────────────── */
html, body, .stApp, [class*="css"] {
  font-family: 'DM Sans', sans-serif !important;
  background-color: var(--bg0) !important;
  color: var(--text) !important;
}

.stApp {
  background:
    radial-gradient(ellipse 1200px 700px at 5%  0%,  rgba(255, 68, 68,  0.10) 0%, transparent 55%),
    radial-gradient(ellipse  900px 600px at 95%  8%, rgba(187,111,255,  0.09) 0%, transparent 55%),
    radial-gradient(ellipse  800px 500px at 50% 100%,rgba( 24,232,255,  0.06) 0%, transparent 55%),
    linear-gradient(160deg, #0b1422 0%, #0e1830 50%, #101c38 100%) !important;
}

.block-container {
  max-width: 100% !important;
  padding-top:    0.35rem !important;
  padding-bottom: 0.20rem !important;
  padding-left:   0.90rem !important;
  padding-right:  0.90rem !important;
}

div[data-testid="stVerticalBlock"]   { gap: 0.32rem !important; }
div[data-testid="stHorizontalBlock"] { gap: 0.40rem !important; }
div[data-testid="column"] > div      { gap: 0.32rem !important; }

#MainMenu, footer { visibility: hidden; }

/* ── Titlebar ───────────────────────────────────────────────── */
.titlebar {
  background: rgba(14, 24, 48, 0.95);
  border: 1px solid var(--stroke2);
  border-radius: var(--r-lg);
  padding: 10px 18px;
  box-shadow: var(--shadow-sm);
  position: relative;
  overflow: hidden;
  backdrop-filter: blur(20px);
}
.titlebar::before {
  content: '';
  position: absolute;
  top: 0; left: 0; right: 0; height: 2px;
  background: linear-gradient(90deg, transparent, var(--red) 25%, var(--cyan) 65%, transparent);
  opacity: 0.80;
}
.title-row {
  display: flex; justify-content: space-between;
  align-items: center; gap: 16px;
}
.h1 {
  font-family: 'Rajdhani', sans-serif !important;
  font-size: clamp(16px, 1.35vw, 22px);
  font-weight: 700;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  /* Light gradient text — readable on projectors */
  background: linear-gradient(90deg, #ffffff 0%, #c8deff 55%, var(--cyan) 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}
.small {
  font-size: clamp(10px, 0.78vw, 12.5px);
  color: var(--text2);
  margin-top: 2px;
  line-height: 1.35;
}
.badges { display: flex; gap: 7px; flex-wrap: wrap; justify-content: flex-end; }
.badge {
  display: inline-flex; gap: 7px; align-items: center;
  padding: 5px 12px; border-radius: 100px;
  font-family: 'JetBrains Mono', monospace;
  font-size: clamp(8.5px, 0.65vw, 11px);
  font-weight: 600; letter-spacing: 0.12em; text-transform: uppercase;
  border: 1px solid var(--stroke2);
  background: rgba(255,255,255,0.06);
  color: var(--text2);
}
.badge:first-child { border-color: rgba(45,236,160,0.40); background: rgba(45,236,160,0.10); color: var(--green); }
.badge:nth-child(2) { border-color: rgba(187,111,255,0.35); background: rgba(187,111,255,0.10); color: var(--violet); }
.badge:nth-child(3) { border-color: rgba(24,232,255,0.30); background: rgba(24,232,255,0.08); color: var(--cyan); }

.dot {
  width: 7px; height: 7px; border-radius: 50%;
  background: var(--green);
  box-shadow: 0 0 10px var(--green-glow);
  animation: pulse-live 1.8s ease-in-out infinite;
}
@keyframes pulse-live {
  0%,100% { opacity:1; transform:scale(1); }
  50%      { opacity:0.5; transform:scale(0.8); }
}

/* ── Panels ─────────────────────────────────────────────────── */
.panel {
  background: var(--panel);
  border: 1px solid var(--stroke2);
  border-radius: var(--r-lg);
  padding: 11px 14px 9px 14px;
  box-shadow: var(--shadow-sm);
  backdrop-filter: blur(20px);
  position: relative;
  overflow: hidden;
}
.panel::before {
  content: '';
  position: absolute;
  top: 0; left: 0; right: 0; height: 2px;
  background: linear-gradient(90deg, transparent, var(--red) 30%, var(--violet) 70%, transparent);
  opacity: 0.55;
}
.panel + .panel { margin-top: 7px; }

/* ── Subheaders ─────────────────────────────────────────────── */
.stSubheader,
[data-testid="stHeadingWithActionElements"] h3, h3 {
  font-family: 'Rajdhani', sans-serif !important;
  font-size: clamp(13px, 1.05vw, 17px) !important;
  font-weight: 700 !important;
  letter-spacing: 0.12em !important;
  text-transform: uppercase !important;
  color: var(--text) !important;
  margin: 0 !important; padding: 0 !important; line-height: 1.1 !important;
}

/* ── Captions ───────────────────────────────────────────────── */
.stCaptionContainer p, [data-testid="stCaptionContainer"] p,
.stCaption, .stMarkdown p, p {
  font-size: clamp(10px, 0.75vw, 12px) !important;
  color: var(--text2) !important;
  line-height: 1.35 !important;
  margin: 0 0 4px 0 !important;
}
.stMarkdown { margin-bottom: 0 !important; }

/* ── Buttons ─────────────────────────────────────────────────── */
div.stButton > button {
  font-family: 'Rajdhani', sans-serif !important;
  font-weight: 700 !important;
  font-size: clamp(11.5px, 0.88vw, 14px) !important;
  letter-spacing: 0.10em !important;
  text-transform: uppercase !important;
  border-radius: var(--r) !important;
  padding: 8px 14px !important;
  position: relative; overflow: hidden;
  transition: transform 140ms ease, box-shadow 140ms ease !important;
  background: linear-gradient(135deg, var(--red) 0%, var(--red-d) 100%) !important;
  color: #fff !important;
  border: 1px solid rgba(255,100,100,0.35) !important;
  box-shadow: 0 6px 22px var(--red-glow), 0 2px 6px rgba(0,0,0,0.40) !important;
}
div.stButton > button::before {
  content: '';
  position: absolute; inset: 0;
  background: linear-gradient(180deg, rgba(255,255,255,0.16) 0%, transparent 60%);
  pointer-events: none;
}
div.stButton > button::after {
  content: ''; position: absolute; top: 0; left: -100%; width: 55%; height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.18), transparent);
  transition: left 360ms ease; pointer-events: none;
}
div.stButton > button:hover::after { left: 160%; }
div.stButton > button:hover {
  transform: translateY(-2px) !important;
  box-shadow: 0 10px 32px var(--red-glow), 0 4px 10px rgba(0,0,0,0.50) !important;
}

/* Second button = cyan glass */
div[data-testid="stHorizontalBlock"] div.stButton:last-child > button {
  background: linear-gradient(135deg, rgba(24,232,255,0.18) 0%, rgba(85,153,255,0.14) 100%) !important;
  color: var(--cyan) !important;
  border: 1px solid rgba(24,232,255,0.32) !important;
  box-shadow: 0 6px 20px var(--cyan-glow), 0 2px 6px rgba(0,0,0,0.40) !important;
}
div[data-testid="stHorizontalBlock"] div.stButton:last-child > button:hover {
  box-shadow: 0 10px 30px var(--cyan-glow), 0 4px 10px rgba(0,0,0,0.50) !important;
}

/* Export button group styling */
div.export-btn div.stButton > button {
  background: linear-gradient(135deg, rgba(45,236,160,0.20) 0%, rgba(0,212,200,0.15) 100%) !important;
  color: var(--green) !important;
  border: 1px solid rgba(45,236,160,0.35) !important;
  box-shadow: 0 4px 14px var(--green-glow) !important;
  font-size: 11px !important;
  padding: 6px 10px !important;
}

/* ── Tabs ────────────────────────────────────────────────────── */
div[data-baseweb="tab-list"] {
  padding: 3px !important; gap: 3px !important;
  background: rgba(255,255,255,0.04) !important;
  border: 1px solid var(--stroke) !important;
  border-radius: var(--r) !important;
}
button[role="tab"] {
  font-family: 'Rajdhani', sans-serif !important;
  font-weight: 700 !important; font-size: clamp(11px, 0.82vw, 13px) !important;
  letter-spacing: 0.10em !important; text-transform: uppercase !important;
  border-radius: var(--r-sm) !important; padding: 5px 14px !important;
  color: var(--text2) !important; border: none !important;
  background: transparent !important; transition: all 140ms ease !important;
}
button[role="tab"][aria-selected="true"] {
  background: linear-gradient(135deg, var(--red) 0%, var(--red-d) 100%) !important;
  color: #fff !important; box-shadow: 0 3px 12px var(--red-glow) !important;
}

/* ── Plotly ──────────────────────────────────────────────────── */
.stPlotlyChart { margin: 0 !important; padding: 0 !important; }
.js-plotly-plot { margin: 0 !important; }

/* ── Alert cards ─────────────────────────────────────────────── */
.alert-row {
  border-radius: var(--r);
  padding: 8px 13px 8px 17px;
  margin-bottom: 6px;
  border: 1px solid rgba(255,68,68,0.22);
  background: rgba(255,68,68,0.08);
  position: relative; overflow: hidden;
}
.alert-row::before {
  content: ''; position: absolute; left:0; top:0; bottom:0; width:3px;
  background: var(--red); box-shadow: 0 0 10px var(--red-glow);
}
.alert-row.warn { border-color: rgba(255,193,7,0.22); background: rgba(255,193,7,0.08); }
.alert-row.warn::before { background: var(--amber); box-shadow: 0 0 10px var(--amber-glow); }
.alert-row.info { border-color: rgba(24,232,255,0.18); background: rgba(24,232,255,0.07); }
.alert-row.info::before { background: var(--cyan); box-shadow: 0 0 10px var(--cyan-glow); }

.alert-severity {
  font-family: 'JetBrains Mono', monospace; font-size: 9px;
  font-weight: 700; letter-spacing: 0.16em; text-transform: uppercase;
  color: var(--red); margin-bottom: 2px;
}
.alert-row.warn .alert-severity { color: var(--amber); }
.alert-row.info .alert-severity { color: var(--cyan); }
.alert-msg {
  font-family: 'DM Sans', sans-serif;
  font-size: clamp(11px, 0.82vw, 13px);
  font-weight: 500; color: var(--text);
  line-height: 1.3; margin-bottom: 2px;
}
.alert-ts {
  font-family: 'JetBrains Mono', monospace;
  font-size: 9.5px; color: var(--muted);
}

/* ── Sidebar ─────────────────────────────────────────────────── */
section[data-testid="stSidebar"] {
  background:
    radial-gradient(400px 300px at 0% 0%, rgba(255,68,68,0.10), transparent 65%),
    linear-gradient(180deg, #090f1e 0%, #0c1526 100%) !important;
  border-right: 1px solid var(--stroke2) !important;
}
div[data-testid="stSidebarContent"] { padding-top: 0.35rem !important; }

.sb-brand {
  display: flex; align-items: center; gap: 11px; padding: 12px;
  border-radius: var(--r); border: 1px solid var(--stroke2);
  background: rgba(255,255,255,0.05); box-shadow: 0 6px 20px rgba(0,0,0,0.35);
  margin-bottom: 10px; position: relative; overflow: hidden;
}
.sb-brand::before {
  content: ''; position: absolute; top:0; left:0; right:0; height:1px;
  background: linear-gradient(90deg, transparent, var(--red), var(--cyan), transparent);
  opacity: 0.70;
}
.sb-logo {
  width: 40px; height: 40px; border-radius: 12px;
  display: flex; align-items: center; justify-content: center;
  font-family: 'Rajdhani', sans-serif; font-weight: 700;
  font-size: 14px; color: white;
  background: linear-gradient(135deg, var(--red) 0%, #8b0000 100%);
  box-shadow: 0 6px 18px var(--red-glow); flex: 0 0 auto; overflow: hidden;
}
.sb-logo img { width:100%; height:100%; object-fit:cover; border-radius:12px; }
.sb-brand .name {
  font-family: 'Rajdhani', sans-serif; font-size: 12px;
  font-weight: 700; line-height: 1.1;
  letter-spacing: 0.05em; text-transform: uppercase; color: var(--text);
}
.sb-brand .tag { font-size: 9.5px; color: var(--muted); margin-top: 3px; letter-spacing: 0.04em; }

.sb-section-label {
  font-family: 'JetBrains Mono', monospace; font-size: 9px;
  font-weight: 700; letter-spacing: 0.20em; text-transform: uppercase;
  color: var(--red); display: flex; align-items: center; gap: 8px;
  margin: 10px 0 4px 0;
}
.sb-section-label::after {
  content: ''; flex: 1; height: 1px;
  background: linear-gradient(90deg, rgba(255,68,68,0.45), transparent);
}

section[data-testid="stSidebar"] label { color: var(--text2) !important; font-size: 11px !important; font-weight: 500 !important; }
section[data-testid="stSidebar"] div[data-baseweb="select"] > div {
  background: rgba(255,255,255,0.06) !important; border: 1px solid var(--stroke2) !important;
  border-radius: var(--r-sm) !important; color: var(--text) !important; min-height: 32px !important;
}
section[data-testid="stSidebar"] input {
  background: rgba(255,255,255,0.06) !important; border: 1px solid var(--stroke2) !important;
  border-radius: var(--r-sm) !important; color: var(--text) !important; min-height: 32px !important;
  font-family: 'JetBrains Mono', monospace !important; font-size: 11px !important;
}
section[data-testid="stSidebar"] button {
  background: rgba(255,255,255,0.06) !important; border: 1px solid var(--stroke2) !important;
  border-radius: var(--r-sm) !important; color: var(--text) !important; padding: 6px 10px !important;
}

/* ── Watermark ───────────────────────────────────────────────── */
.watermark {
  position: fixed; right: 18px; bottom: 16px; z-index: 9999;
  display: inline-flex; align-items: center; gap: 8px;
  padding: 7px 15px; border-radius: 100px;
  font-family: 'Rajdhani', sans-serif; font-weight: 700;
  font-size: 10.5px; letter-spacing: 0.14em; text-transform: uppercase;
  color: rgba(255,255,255,0.92);
  background: linear-gradient(135deg, rgba(255,68,68,0.80) 0%, rgba(187,111,255,0.65) 60%, rgba(24,232,255,0.55) 100%);
  border: 1px solid rgba(255,255,255,0.15);
  box-shadow: 0 16px 40px rgba(0,0,0,0.50);
  backdrop-filter: blur(10px);
}
.watermark::before { content: '▶'; font-size: 8px; opacity: 0.80; }

/* ── iframe (maps) ───────────────────────────────────────────── */
iframe { border-radius: var(--r) !important; }

/* ── Dataframe ───────────────────────────────────────────────── */
div[data-testid="stDataFrame"] { margin: 0 !important; border-radius: var(--r) !important; }
div[data-testid="stDataFrame"] * { font-family: 'JetBrains Mono', monospace !important; font-size: clamp(9.5px, 0.72vw, 11.5px) !important; }

/* ═══════════════════════════════════════════════════════════════
   MOBILE LOCK  — viewport meta forces 390px on mobile,
   layout stays fixed, no overflow
═══════════════════════════════════════════════════════════════ */
@media (max-width: 768px) {
  .block-container {
  max-width: 100% !important;
  padding-top:    0.35rem !important;
  padding-bottom: 0.20rem !important;
  padding-left:   0.90rem !important;
  padding-right:  0.90rem !important;
}
  div[data-testid="stHorizontalBlock"] { flex-direction: column !important; gap: 0.5rem !important; }
  div[data-testid="column"] { width: 100% !important; flex: 1 1 100% !important; min-width: 0 !important; }
  .h1    { font-size: 15px !important; }
  .small { font-size: 10px !important; }
  .badges { display: none !important; }
  .watermark { display: none !important; }
  div.stButton > button { padding: 10px 14px !important; font-size: 13px !important; }
  button[role="tab"] { padding: 8px 14px !important; font-size: 12px !important; }
  .panel { padding: 10px 12px !important; }
}

@media (min-width: 768px) and (max-width: 1080px) {
  .h1    { font-size: 16px !important; }
  .panel { padding: 9px 12px !important; }
}


/* ─────────────────────────────────────────────────────────────
   SIDEBAR PERMANEN (disable collapse controls)
   ───────────────────────────────────────────────────────────── */
button[data-testid="stSidebarCollapseButton"] { display: none !important; }
div[data-testid="stSidebarCollapsedControl"] { display: none !important; }

/* ── REMOVE STREAMLIT TOP EMPTY BAR ───────────────────────── */
header { 
  visibility: hidden !important;
  height: 0px !important;
}

section[data-testid="stToolbar"] {
  display: none !important;
  height: 0 !important;
}

div[data-testid="stDecoration"] {
  display: none !important;
}

.block-container {
  padding-top: 0.25rem !important;
}

/* extra safety */
main > div:first-child {
  margin-top: 0 !important;
  padding-top: 0 !important;
}
/* KPI PANEL FULL HEIGHT */
.kpi-flex {
  display: flex;
  flex-direction: column;
  height: 100%;
}

.kpi-spacer {
  flex: 1;
}
